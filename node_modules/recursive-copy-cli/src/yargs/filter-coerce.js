"use strict";
exports.__esModule = true;
exports.filterCoerce = void 0;
function filterCoerce(filter) {
    var filterList = undefined;
    if (filter !== undefined) {
        var globList = filter.map(function (glob) {
            var regParts = /^\/(.*?)\/([gim]*)$/.exec(glob);
            var regexp = glob;
            if (regParts) {
                // the parsed pattern had delimiters and modifiers. handle them.
                // if flags is "", use undefined as you cant pass "" to new RegExp
                var flags = regParts[2] || undefined;
                regexp = new RegExp(regParts[1], flags);
            }
            return regexp;
        });
        if (globList.length !== 0) {
            filterList = globList;
        }
        else {
            throw new Error('Error: Invalid filter option');
        }
    }
    return filterList;
}
exports.filterCoerce = filterCoerce;
